(this["webpackJsonpspeedgolf-react"]=this["webpackJsonpspeedgolf-react"]||[]).push([[0],{10:function(e,t,a){},12:function(e,t,a){e.exports=a(22)},20:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(11),o=a.n(s),l=(a(17),a(18),a(19),a(20),a(10),a(1)),c=a(2),u=a(4),i=a(3),m=a(5),d={LOGIN:"LoginMode",FEED:"FeedMode",ROUNDS:"RoundsMode",ROUNDS_LOGROUND:"RoundsMode-LogRound",ROUNDS_EDITROUND:"RoundsMode-EditRound",COURSES:"CoursesMode"};Object.freeze(d);var p=d,h=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).handleMenuBtnClick=function(){a.props.mode===p.ROUNDS_LOGROUND||a.props.mode===p.ROUNDS_EDITROUND?a.props.changeMode(p.ROUNDS):a.props.mode!=p.LOGIN&&a.props.toggleMenuOpen()},a.getMenuBtnIcon=function(){return a.props.mode===p.ROUNDS_LOGROUND||a.props.mode===p.ROUNDS_EDITROUND?"fa fa-arrow-left":a.props.menuOpen?"fa fa-times":"fa fa-bars"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement("span",{className:"navbar-items"},r.a.createElement("button",{className:"sidemenu-btn",onClick:this.handleMenuBtnClick},r.a.createElement("span",{id:"sidemenu-btn-icon",className:"sidemenu-btn-icon "+this.getMenuBtnIcon()})),r.a.createElement("img",{src:"http://tiny.cc/sslogo",alt:"Speed Score Logo",height:"38px",width:"38px"}),r.a.createElement("span",{id:"topBarTitle",className:"navbar-title"},"\xa0",this.props.title)))}}]),t}(r.a.Component),f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).renderModeMenuItems=function(){switch(a.props.mode){case p.FEED:return r.a.createElement("div",null,r.a.createElement("a",{className:"sidemenu-item"},r.a.createElement("span",{className:"fa fa-users"}),"\xa0Followed Users"),r.a.createElement("a",{className:"menuItem"},r.a.createElement("span",{className:"fa fa-search"}),"\xa0Search Feed"));case p.ROUNDS:return r.a.createElement("div",null,r.a.createElement("a",{className:"sidemenu-item"},r.a.createElement("span",{className:"fa fa-plus"}),"\xa0Log New Round"),r.a.createElement("a",{className:"menuItem"},r.a.createElement("span",{className:"fa fa-search"}),"\xa0Search Rounds"));case p.COURSES:return r.a.createElement("div",null,r.a.createElement("a",{className:"sidemenu-item"},r.a.createElement("span",{className:"fa fa-plus"}),"\xa0Add a Course"),r.a.createElement("a",{className:"sidemenu-item"},r.a.createElement("span",{className:"fa fa-search"}),"\xa0Search Courses"));default:return null}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sidemenu "+(this.props.menuOpen?"sidemenu-open":"sidemenu-closed")},r.a.createElement("div",{className:"sidemenu-title"},r.a.createElement("img",{src:this.props.user.profileImageUrl,height:"50",width:"50"}),r.a.createElement("span",{className:"sidemenu-userID"},"\xa0",this.props.user.displayName)),this.renderModeMenuItems(),r.a.createElement("a",{className:"sidemenu-item",onClick:this.props.showAbout},r.a.createElement("span",{className:"fa fa-info-circle"}),"\xa0About"),r.a.createElement("a",{className:"sidemenu-item",onClick:function(){return e.props.changeMode(p.LOGIN)}},r.a.createElement("span",{className:"fa fa-sign-out"}),"\xa0Log Out"))}}]),t}(r.a.Component),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).handleModeBtnClick=function(e){a.props.mode!=e&&a.props.changeMode(e)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modebar"+(this.props.mode===p.LOGIN?" invisible":" visible")},r.a.createElement("a",{className:"modebar-btn"+(this.props.mode===p.FEED?" modebar-item-selected":""),onClick:this.props.menuOpen?null:function(){return e.handleModeBtnClick(p.FEED)}},r.a.createElement("span",{className:"modebar-icon nonMenuItem fa fa-th-list"}),r.a.createElement("span",{className:"modebar-text"},"Feed")),r.a.createElement("a",{className:"modebar-btn"+(this.props.mode===p.ROUNDS?" modebar-item-selected":""),onClick:this.props.menuOpen?null:function(){return e.handleModeBtnClick(p.ROUNDS)}},r.a.createElement("span",{className:"modebar-icon fa fa-history"}),r.a.createElement("span",{className:"modebar-text"},"Rounds")),r.a.createElement("a",{className:"modebar-btn"+(this.props.mode===p.COURSES?" modebar-item-selected":""),onClick:this.props.menuOpen?null:function(){return e.handleModeBtnClick(p.COURSES)}},r.a.createElement("span",{className:"modebar-icon fa fa-flag"}),r.a.createElement("span",{className:"modebar-text"},"Courses")))}}]),t}(r.a.Component),g=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{className:"floatbtn",onClick:this.props.menuOpen?null:this.props.handleClick},r.a.createElement("span",{className:"floatbtn-icon "+this.props.icon})))}}]),t}(r.a.Component),b=a(7),N=a(6),v=a.n(N),w=a(8);function S(e,t){var a=e[0],n=e[1],r=e[2],s=e[3];a=y(a,n,r,s,t[0],7,-680876936),s=y(s,a,n,r,t[1],12,-389564586),r=y(r,s,a,n,t[2],17,606105819),n=y(n,r,s,a,t[3],22,-1044525330),a=y(a,n,r,s,t[4],7,-176418897),s=y(s,a,n,r,t[5],12,1200080426),r=y(r,s,a,n,t[6],17,-1473231341),n=y(n,r,s,a,t[7],22,-45705983),a=y(a,n,r,s,t[8],7,1770035416),s=y(s,a,n,r,t[9],12,-1958414417),r=y(r,s,a,n,t[10],17,-42063),n=y(n,r,s,a,t[11],22,-1990404162),a=y(a,n,r,s,t[12],7,1804603682),s=y(s,a,n,r,t[13],12,-40341101),r=y(r,s,a,n,t[14],17,-1502002290),a=R(a,n=y(n,r,s,a,t[15],22,1236535329),r,s,t[1],5,-165796510),s=R(s,a,n,r,t[6],9,-1069501632),r=R(r,s,a,n,t[11],14,643717713),n=R(n,r,s,a,t[0],20,-373897302),a=R(a,n,r,s,t[5],5,-701558691),s=R(s,a,n,r,t[10],9,38016083),r=R(r,s,a,n,t[15],14,-660478335),n=R(n,r,s,a,t[4],20,-405537848),a=R(a,n,r,s,t[9],5,568446438),s=R(s,a,n,r,t[14],9,-1019803690),r=R(r,s,a,n,t[3],14,-187363961),n=R(n,r,s,a,t[8],20,1163531501),a=R(a,n,r,s,t[13],5,-1444681467),s=R(s,a,n,r,t[2],9,-51403784),r=R(r,s,a,n,t[7],14,1735328473),a=D(a,n=R(n,r,s,a,t[12],20,-1926607734),r,s,t[5],4,-378558),s=D(s,a,n,r,t[8],11,-2022574463),r=D(r,s,a,n,t[11],16,1839030562),n=D(n,r,s,a,t[14],23,-35309556),a=D(a,n,r,s,t[1],4,-1530992060),s=D(s,a,n,r,t[4],11,1272893353),r=D(r,s,a,n,t[7],16,-155497632),n=D(n,r,s,a,t[10],23,-1094730640),a=D(a,n,r,s,t[13],4,681279174),s=D(s,a,n,r,t[0],11,-358537222),r=D(r,s,a,n,t[3],16,-722521979),n=D(n,r,s,a,t[6],23,76029189),a=D(a,n,r,s,t[9],4,-640364487),s=D(s,a,n,r,t[12],11,-421815835),r=D(r,s,a,n,t[15],16,530742520),a=C(a,n=D(n,r,s,a,t[2],23,-995338651),r,s,t[0],6,-198630844),s=C(s,a,n,r,t[7],10,1126891415),r=C(r,s,a,n,t[14],15,-1416354905),n=C(n,r,s,a,t[5],21,-57434055),a=C(a,n,r,s,t[12],6,1700485571),s=C(s,a,n,r,t[3],10,-1894986606),r=C(r,s,a,n,t[10],15,-1051523),n=C(n,r,s,a,t[1],21,-2054922799),a=C(a,n,r,s,t[8],6,1873313359),s=C(s,a,n,r,t[15],10,-30611744),r=C(r,s,a,n,t[6],15,-1560198380),n=C(n,r,s,a,t[13],21,1309151649),a=C(a,n,r,s,t[4],6,-145523070),s=C(s,a,n,r,t[11],10,-1120210379),r=C(r,s,a,n,t[2],15,718787259),n=C(n,r,s,a,t[9],21,-343485551),e[0]=j(a,e[0]),e[1]=j(n,e[1]),e[2]=j(r,e[2]),e[3]=j(s,e[3])}function O(e,t,a,n,r,s){return t=j(j(t,e),j(n,s)),j(t<<r|t>>>32-r,a)}function y(e,t,a,n,r,s,o){return O(t&a|~t&n,e,t,r,s,o)}function R(e,t,a,n,r,s,o){return O(t&n|a&~n,e,t,r,s,o)}function D(e,t,a,n,r,s,o){return O(t^a^n,e,t,r,s,o)}function C(e,t,a,n,r,s,o){return O(a^(t|~n),e,t,r,s,o)}function A(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}var k="0123456789abcdef".split("");function I(e){for(var t="",a=0;a<4;a++)t+=k[e>>8*a+4&15]+k[e>>8*a&15];return t}function U(e){return function(e){for(var t=0;t<e.length;t++)e[t]=I(e[t]);return e.join("")}(function(e){var t,a=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)S(n,A(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(S(n,r),t=0;t<16;t++)r[t]=0;return r[14]=8*a,S(n,r),n}(e))}function j(e,t){return e+t&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=U("hello"));var x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).handleLogin=function(){a.setState({loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In"}),a.props.setUser({id:a.emailInputRef.current.value,username:a.emailInputRef.current.value,provider:"local",profileImageUrl:"https://www.gravatar.com/avatar/".concat(U(a.emailInputRef.current.value))}),a.props.setAuthenticated(!0),a.props.changeMode(p.FEED)},a.handleLoginSubmit=function(){var e=Object(w.a)(v.a.mark((function e(t){var n,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({loginBtnIcon:"fa fa-spin fa-spinner",loginBtnLabel:"Logging In..."}),n="/login?username="+a.emailInputRef.current.value+"&password="+a.passwordInputRef.current.value,e.next=5,fetch(n,{method:"POST"});case 5:if(200!=(r=e.sent).status){e.next=10;break}window.open("/","_self"),e.next=14;break;case 10:return e.next=12,r.text();case 12:s=e.sent,a.setState({loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",loginMsg:s},(function(){return setTimeout(a.hideErrorMsg,3e3)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.hideErrorMsg=function(){a.emailInputRef.current.value="",a.passwordInputRef.current.value="",a.setState({loginMsg:""})},a.handleOAuthLogin=function(e){window.open("/auth/".concat(e),"_self")},a.handleOAuthLoginClick=function(e){var t;a.setState((t={},Object(b.a)(t,e+"Icon","fa fa-spin fa-spinner"),Object(b.a)(t,e+"Label","Connecting..."),t)),setTimeout((function(){return a.handleOAuthLogin(e)}),1e3)},a.checkAccountValidity=function(){a.state.accountPassword!=a.state.accountPasswordRepeat?a.repeatPassRef.current.setCustomValidity("This password must match original password."):a.repeatPassRef.current.setCustomValidity("")},a.handleNewAccountChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value),a.checkAccountValidity)},a.handleCreateAccount=function(){var e=Object(w.a)(v.a.mark((function e(t){var n,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={userId:a.state.accountName,password:a.state.accountPassword,securityQuestion:a.state.accountSecurityQuestion,securityAnswer:a.state.accountSecurityAnswer},e.next=4,fetch("/newaccount",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 4:if(200!=(r=e.sent).status){e.next=10;break}alert("Your account was successfully created. Please log in using your email and password to continue."),a.setState({showAccountDialog:!1}),e.next=14;break;case 10:return e.next=12,r.text();case 12:s=e.sent,alert(s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleLoginChange=function(e){var t=a.emailInputRef.current.value,n=JSON.parse(localStorage.getItem("speedgolfUserData"));null!=n&&n.hasOwnProperty(t)?(a.emailInputRef.current.setCustomValidity(""),n[t].accountInfo.password!=a.passwordInputRef.current.value?a.passwordInputRef.current.setCustomValidity("The password you entered is incorrect. Please try again or choose 'Reset your password'."):a.passwordInputRef.current.setCustomValidity("")):a.emailInputRef.current.setCustomValidity("No account with this email address exists. Choose 'Create an account'.")},a.renderAccountDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Create New Account"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({showAccountDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleCreateAccount},r.a.createElement("label",null,"Email:",r.a.createElement("input",{className:"form-control form-text",name:"accountName",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",ref:a.newUserRef,required:!0,value:a.state.accountName,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Password:",r.a.createElement("input",{className:"form-control form-text",name:"accountPassword",type:"password",size:"35",placeholder:"Enter Password",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$",required:!0,ref:a.repeatPassRef,value:a.state.accountPassword,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Repeat Password:",r.a.createElement("input",{className:"form-control form-text",name:"accountPasswordRepeat",type:"password",size:"35",placeholder:"Repeat Password",required:!0,ref:a.repeatPassRef,value:a.state.accountPasswordRepeat,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Security Question:",r.a.createElement("textarea",{className:"form-control form-text",name:"accountSecurityQuestion",size:"35",placeholder:"Security Question",rows:"2",cols:"35",maxLength:"100",required:!0,value:a.state.accountSecurityQuestion,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Answer to Security Question:",r.a.createElement("textarea",{className:"form-control form-text",name:"accountSecurityAnswer",type:"text",placeholder:"Answer",rows:"2",cols:"35",maxLength:"100",required:!0,value:a.state.accountSecurityAnswer,onChange:a.handleNewAccountChange})),r.a.createElement("button",{role:"submit",className:"btn btn-primary btn-color-theme form-submit-btn"},r.a.createElement("span",{className:"fa fa-user-plus"}),"\xa0Create Account"))))))},a.handleLookUpAccount=function(){var e=Object(w.a)(v.a.mark((function e(t){var n,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n="/accountexists?userId="+a.accountEmailRef.current.value,e.next=4,fetch(n,{method:"GET"});case 4:if(200==(r=e.sent).status){e.next=9;break}return alert("Sorry, there was a problem communicating with the server. Please try again."),a.accountEmailRef.current.focus(),e.abrupt("return");case 9:return e.next=11,r.json();case 11:if(e.sent.result){e.next=16;break}return alert("Sorry, there is no account associated with this email address."),a.accountEmailRef.current.select(),e.abrupt("return");case 16:return n="/securityquestion?userId="+a.accountEmailRef.current.value,e.next=19,fetch(n,{method:"GET"});case 19:if(200==(r=e.sent).status){e.next=24;break}return alert("Sorry, there was a problem communicating with the server. Please try again."),a.accountEmailRef.current.focus(),e.abrupt("return");case 24:return e.next=26,r.text();case 26:s=e.sent,a.setState({resetEmail:a.accountEmailRef.current.value,resetQuestion:s,showLookUpAccountDialog:!1,showSecurityQuestionDialog:!0}),a.emailInputRef.current.value="";case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderLookUpAccountDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Look Up Account"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({showLookUpAccountDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleLookUpAccount},r.a.createElement("label",null,"Account Email Address:",r.a.createElement("input",{className:"form-control form-text",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",ref:a.accountEmailRef,required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-color-theme form-submit-btn"},r.a.createElement("span",{className:"fa fa-search"}),"\xa0Look Up Account"))))))},a.handleSecurityQuestionResponse=function(){var e=Object(w.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n="verifysecurityanswer/?userId="+a.state.resetEmail+"&answer="+a.securityAnswerRef.current.value,e.next=4,fetch(n,{method:"GET"});case 4:if(200==(r=e.sent).status){e.next=8;break}return alert("There was a problem communicating with the server. Try again."),e.abrupt("return");case 8:return e.next=10,r.json();case 10:if(e.sent.result){e.next=15;break}return alert("Sorry, that is not the correct answer to the security question."),a.securityAnswerRef.current.select(),e.abrupt("return");case 15:a.setState({resetAnswer:a.securityAnswerRef.current.value,showSecurityQuestionDialog:!1,showPasswordResetDialog:!0}),a.securityAnswerRef.current.value="";case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderSecurityQuestionDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Answer Security Question"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({resetEmail:"",resetQuestion:"",resetAnswer:"",showSecurityQuestionDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleSecurityQuestionResponse},r.a.createElement("label",null,"Security Question:",r.a.createElement("textarea",{readOnly:!0,value:a.state.resetQuestion,className:"form-control form-text",rows:"3",cols:"35"})),r.a.createElement("label",null,"Security Answer:",r.a.createElement("textarea",{className:"form-control form-text",placeholder:"Enter Security Question Answer",ref:a.securityAnswerRef,rows:"3",cols:"35"})),r.a.createElement("button",{role:"submit",className:"btn btn-primary btn-color-theme form-submit-btn"},r.a.createElement("span",{className:"fa fa-check"}),"\xa0Verify Answer"))))))},a.handleResetPassword=function(){var e=Object(w.a)(v.a.mark((function e(t){var n,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.resetPasswordRef.current.value==a.resetPasswordRepeatRef.current.value){e.next=5;break}return alert("Sorry, The passwords you entered do not match. Please try again."),a.resetPasswordRepeatRef.current.select(),e.abrupt("return");case 5:return n={userId:a.state.resetEmail,answer:a.state.resetAnswer,newPassword:a.resetPasswordRef.current.value},e.next=8,fetch("/resetpassword",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 8:return r=e.sent,e.next=11,r.text();case 11:s=e.sent,alert(s),a.resetPasswordRef.current.value="",a.resetPasswordRepeatRef.current.value="",a.setState({showPasswordResetDialog:!1});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderPasswordResetDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Reset Password"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({resetEmail:"",resetQuestion:"",resetAnswer:"",showPasswordResetDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleResetPassword},r.a.createElement("label",null,"New Password:",r.a.createElement("input",{type:"password",placeholder:"Enter new password",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$",className:"form-control form-text",ref:a.resetPasswordRef})),r.a.createElement("p",null),r.a.createElement("label",null,"Repeat New Password:",r.a.createElement("input",{type:"password",placeholder:"Repeat new password",className:"form-control form-text",ref:a.resetPasswordRepeatRef})),r.a.createElement("button",{role:"submit",className:"btn btn-primary btn-color-theme form-submit-btn"},r.a.createElement("span",{className:"fa fa-key"}),"\xa0Reset Password"))))))},a.emailInputRef=r.a.createRef(),a.passwordInputRef=r.a.createRef(),a.repeatPassRef=r.a.createRef(),a.newUserRef=r.a.createRef(),a.accountEmailRef=r.a.createRef(),a.securityAnswerRef=r.a.createRef(),a.resetPasswordRef=r.a.createRef(),a.resetPasswordRepeatRef=r.a.createRef(),a.state={loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",loginMsg:"",githubIcon:"fa fa-github",githubLabel:"Sign in with GitHub",showAccountDialog:!1,showLookUpAccountDialog:!1,showSecurityQuestionDialog:!1,showPasswordResetDialog:!1,resetEmail:"",resetQuestion:"",resetAnswer:"",accountName:"",accountPassword:"",accountPasswordRepeat:"",accountSecurityQuestion:"",accountSecurityAnswer:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.emailInputRef.current.focus()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"login-mode-div",className:"padded-page"},r.a.createElement("center",null,r.a.createElement("h1",null),r.a.createElement("form",{onSubmit:this.handleLoginSubmit},r.a.createElement("label",{htmlFor:"emailInput",style:{padding:0,fontSize:24}},"Email:",r.a.createElement("input",{ref:this.emailInputRef,className:"form-control login-text",type:"email",placeholder:"Enter Email Address",id:"emailInput",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",required:!0})),r.a.createElement("p",null),r.a.createElement("label",{htmlFor:"passwordInput",style:{padding:0,fontSize:24}},"Password:",r.a.createElement("input",{ref:this.passwordInputRef,className:"form-control login-text",type:"password",placeholder:"Enter Password",required:!0})),r.a.createElement("p",{className:"bg-danger login-error-msg-text"},this.state.loginMsg),r.a.createElement("button",{type:"submit",className:"btn-color-theme btn btn-primary btn-block login-btn"},r.a.createElement("span",{className:this.state.loginBtnIcon}),"\xa0",this.state.loginBtnLabel),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("button",{type:"button",className:"btn btn-link login-link",onClick:function(){e.setState({showAccountDialog:!0})}},"Create an account")," |",r.a.createElement("button",{type:"button",className:"btn btn-link login-link",onClick:function(){e.setState({showLookUpAccountDialog:!0}),e.resetEmail.current.focus()}},"Reset your password")),r.a.createElement("p",null),r.a.createElement("button",{type:"button",className:"btn btn-github",onClick:function(){return e.handleOAuthLoginClick("github")}},r.a.createElement("span",{className:this.state.githubIcon}),"\xa0",this.state.githubLabel),r.a.createElement("p",null),r.a.createElement("p",null,r.a.createElement("i",null,"Version CptS 489 Sp20 React Oauth + Local + MongoDB")),r.a.createElement("p",null,r.a.createElement("i",null,"\xa9 2020 Professor of Speedgolf. All rights reserved."))),this.state.showAccountDialog?this.renderAccountDialog():null,this.state.showLookUpAccountDialog?this.renderLookUpAccountDialog():null,this.state.showSecurityQuestionDialog?this.renderSecurityQuestionDialog():null,this.state.showPasswordResetDialog?this.renderPasswordResetDialog():null))}}]),t}(r.a.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"padded-page center"},r.a.createElement("h1",null,"Activity Feed"),r.a.createElement("h2",null,"This page is under construction."),r.a.createElement("img",{src:"https://dl.dropboxusercontent.com/s/qpjhy9x9gwdxpob/SpeedScoreLogo64Trans.png",height:"200",width:"200"}),r.a.createElement("p",{style:{fontStyle:"italic"}},"Version CptS 489 React Demo",r.a.createElement("br",null),"\xa9 2017-20 The Professor of Speedgolf. All rights reserved."))}}]),t}(r.a.Component),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).editRound=function(e){a.props.setEditId(e),a.props.changeMode(p.ROUNDS_EDITROUND)},a.confirmDelete=function(e){a.props.setDeleteId(e),a.setState({confirmDelete:!0})},a.doDelete=function(){a.props.deleteRound(),a.setState({confirmDelete:!1})},a.cancelDelete=function(){a.props.setDeleteId(""),a.setState({confirmDelete:!1})},a.renderConfirmDeleteDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",{className:"modal-title"},"Confirm Round Deletion"),r.a.createElement("button",{className:"close-modal-button",onClick:a.cancelDelete},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("h4",null,"Are you sure that you want to delete this round?"),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-primary btn-color-scheme",onClick:a.doDelete},"Yes, delete round"),r.a.createElement("button",{className:"btn btn-secondary",onClick:a.cancelDelete},"No, do not delete round")))))},a.renderTable=function(){var e=[],t=function(t){e.push(r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.props.rounds[t].date),r.a.createElement("td",null,a.props.rounds[t].course),r.a.createElement("td",null,Number(a.props.rounds[t].strokes)+Number(a.props.rounds[t].minutes)+":"+a.props.rounds[t].seconds+" ("+a.props.rounds[t].strokes+" in "+a.props.rounds[t].minutes+":"+a.props.rounds[t].seconds+")"),r.a.createElement("td",null,r.a.createElement("button",{onClick:a.props.menuOpen?null:function(){return a.editRound(t)}},r.a.createElement("span",{className:"fa fa-eye"}))),r.a.createElement("td",null,r.a.createElement("button",{onClick:a.props.menuOpen?null:function(){return a.confirmDelete(t)}},r.a.createElement("span",{className:"fa fa-trash"})))))};for(var n in a.props.rounds)t(n);return e},a.state={confirmDelete:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"padded-page"},r.a.createElement("h1",null),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Course"),r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"View/Edit..."),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,0===Object.keys(this.props.rounds).length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5",style:{fontStyle:"italic"}},"No rounds logged")):this.renderTable())),this.state.confirmDelete?this.renderConfirmDeleteDialog():null)}}]),t}(r.a.Component),M=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;"seconds"===t?a.setState({seconds:e.target.value.length<2?"0"+e.target.value:e.target.value}):a.setState(Object(b.a)({},t,e.target.value))},a.handleSubmit=function(e){a.setState({faIcon:"fa fa-spin fa-spinner",btnLabel:a.props.mode===p.ROUNDS_LOGROUND?"Saving...":"Updating..."});var t=a.state;delete t.faIcon,delete t.btnLabel,setTimeout(a.props.saveRound,1e3,t),e.preventDefault()},a.computeSGS=function(){return Number(a.state.strokes)+Number(a.state.minutes)+":"+a.state.seconds};var n=new Date(Date.now()-6e4*(new Date).getTimezoneOffset());return a.props.mode===p.ROUNDS_LOGROUND?a.state={date:n.toISOString().substr(0,10),course:"",type:"practice",holes:"18",strokes:80,minutes:50,seconds:"00",notes:"",faIcon:"fa fa-save",btnLabel:"Save Round Data"}:(a.state=a.props.startData,a.state.faIcon="fa fa-edit",a.state.btnLabel="Update Round Data"),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"padded-page"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("center",null,r.a.createElement("label",null,"Date:",r.a.createElement("input",{name:"date",className:"form-control form-center",type:"date",value:this.state.date,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("label",null,"Course:",r.a.createElement("input",{name:"course",className:"form-control form-center",type:"text",value:this.state.course,onChange:this.handleChange,placeholder:"Course played",size:"50",maxLength:"50"})),r.a.createElement("p",null),r.a.createElement("label",null,"Type:",r.a.createElement("select",{name:"type",value:this.state.type,className:"form-control form-center",onChange:this.handleChange},r.a.createElement("option",{value:"practice"},"Practice"),r.a.createElement("option",{value:"tournament"},"Tournament"))),r.a.createElement("p",null),r.a.createElement("label",null,"# Holes:",r.a.createElement("select",{name:"holes",value:this.state.holes,className:"form-control form-center",onChange:this.handleChange},r.a.createElement("option",{value:"9"},"9"),r.a.createElement("option",{value:"18"},"18"))),r.a.createElement("p",null),r.a.createElement("label",null,"# Strokes:",r.a.createElement("input",{name:"strokes",className:"form-control form-center",type:"number",min:"9",max:"200",value:this.state.strokes,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("label",null,"Time: ",r.a.createElement("br",null),r.a.createElement("input",{name:"minutes",type:"number",size:"3",min:"10",max:"400",value:this.state.minutes,onChange:this.handleChange}),":",r.a.createElement("input",{name:"seconds",type:"number",size:"2",min:"0",max:"60",value:this.state.seconds,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("label",null,"Speedgolf Score: ",r.a.createElement("br",null),r.a.createElement("input",{name:"SGS",className:"form-center",type:"text",size:"6",disabled:!0,value:this.computeSGS()})),r.a.createElement("p",null),r.a.createElement("label",null,"Notes:",r.a.createElement("textarea",{name:"notes",className:"form-control",rows:"6",cols:"75",placeholder:"Enter round notes",value:this.state.notes,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("button",{type:"submit",style:{width:"70%",fontSize:"36px"},className:"btn btn-primary btn-color-theme"},r.a.createElement("span",{className:this.state.faIcon}),"\xa0",this.state.btnLabel))))}}]),t}(r.a.Component),T=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).setDeleteId=function(e){a.setState({deleteId:e})},a.setEditId=function(e){a.setState({editId:e})},a.editRound=function(e){var t=JSON.parse(localStorage.getItem("speedgolfUserData")),n=a.state.rounds;n[a.state.editId]=e,t[a.props.user.id].rounds=n,localStorage.setItem("speedgolfUserData",JSON.stringify(t)),a.setState({rounds:n,editId:""}),a.props.changeMode(p.ROUNDS)},a.deleteRound=function(){var e=JSON.parse(localStorage.getItem("speedgolfUserData")),t=a.state.rounds;delete t[a.state.deleteId],e[a.props.user.id].rounds=t,localStorage.setItem("speedgolfUserData",JSON.stringify(e)),a.setState({rounds:t,deleteId:""})},a.addRound=function(e){var t=JSON.parse(localStorage.getItem("speedgolfUserData")),n=a.state.rounds;e.roundNum=a.state.roundCount+1,n[a.state.roundCount+1]=e,t[a.props.user.id].rounds=n,t[a.props.user.id].roundCount=a.state.roundCount+1,localStorage.setItem("speedgolfUserData",JSON.stringify(t)),a.setState({rounds:n,roundCount:e.roundNum}),a.props.changeMode(p.ROUNDS)};var n=JSON.parse(localStorage.getItem("speedgolfUserData"));return a.state={rounds:n[a.props.user.id].rounds,roundCount:n[a.props.user.id].roundCount,deleteId:"",editId:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;switch(this.props.mode){case p.ROUNDS:return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{rounds:this.state.rounds,setEditId:this.setEditId,setDeleteId:this.setDeleteId,deleteRound:this.deleteRound,changeMode:this.props.changeMode,menuOpen:this.props.menuOpen}),r.a.createElement(g,{handleClick:function(){return e.props.changeMode(p.ROUNDS_LOGROUND)},menuOpen:this.props.menuOpen,icon:"fa fa-plus"}));case p.ROUNDS_LOGROUND:return r.a.createElement(M,{mode:this.props.mode,startData:"",saveRound:this.addRound});case p.ROUNDS_EDITROUND:return r.a.createElement(M,{mode:this.props.mode,startData:this.state.rounds[this.state.editId],saveRound:this.editRound})}}}]),t}(r.a.Component),Q=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"padded-page center"},r.a.createElement("h1",null,"Courses"),r.a.createElement("h2",null,"This page is under construction."),r.a.createElement("img",{src:"https://dl.dropboxusercontent.com/s/qpjhy9x9gwdxpob/SpeedScoreLogo64Trans.png",height:"200",width:"200"}),r.a.createElement("p",{style:{fontStyle:"italic"}},"Version CptS 489 React Demo",r.a.createElement("br",null),"\xa9 2017-20 The Professor of Speedgolf. All rights reserved."))}}]),t}(r.a.Component),z={};z[p.LOGIN]="Welcome to SpeedScore",z[p.FEED]="Activity Feed",z[p.ROUNDS]="My Rounds",z[p.ROUNDS_LOGROUND]="Log New Round",z[p.ROUNDS_EDITROUND]="Edit Round",z[p.COURSES]="Courses";var G={};G[p.LOGIN]=x,G[p.FEED]=L,G[p.ROUNDS]=T,G[p.ROUNDS_LOGROUND]=T,G[p.ROUNDS_EDITROUND]=T,G[p.COURSES]=Q;var _=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).handleChangeMode=function(e){a.setState({mode:e})},a.openMenu=function(){a.setState({menuOpen:!0})},a.closeMenu=function(){a.setState({menuOpen:!1})},a.toggleMenuOpen=function(){a.setState((function(e){return{menuOpen:!e.menuOpen}}))},a.setUser=function(e){a.setState({user:e})},a.setAuthenticated=function(e){a.setState({authenticated:e})},a.handleClick=function(e){a.state.menuOpen&&a.closeMenu(),e.stopPropagation()},a.toggleAbout=function(){a.setState((function(e){return{showAbout:!e.showAbout}}))},a.renderAbout=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"About SpeedScore"),r.a.createElement("button",{className:"close-modal-button",onClick:a.toggleAbout},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("img",{src:"https://dl.dropboxusercontent.com/s/awuwr1vpuw1lkyl/SpeedScore4SplashLogo.png",height:"200",width:"200"}),r.a.createElement("h3",null,"The World's First and Only Suite of Apps for Speedgolf"),r.a.createElement("p",null,"Version CptS 489 Sp20, Build W06C2 (React)",r.a.createElement("br",null),"\xa9 2017-20 The Professor of Speedgolf. All rights reserved."),r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("p",null,"SpeedScore apps support"),r.a.createElement("ul",null,r.a.createElement("li",null,"live touranment scoring (",r.a.createElement("i",null,"SpeedScore Live\xae"),")"),r.a.createElement("li",null,"tracking personal speedgolf rounds and sharing results (",r.a.createElement("i",null,"SpeedScore Track\xae"),")"),r.a.createElement("li",null,"finding speedgolf-friendly courses, booking tee times, and paying to play speedgolf by the minute (",r.a.createElement("i",null,"SpeedScore Play\xae"),")")),r.a.createElement("p",null,"SpeedScore was first developed by Dr. Chris Hundhausen, associate professor of computer science at Washington State University and the ",r.a.createElement("i",null,"Professor of Speedgolf"),", with support from Scott Dawley, CEO of Speedgolf USA, LLC. It leverages Google server-side technologies."),r.a.createElement("p",null,"For more information on SpeedScore, visit ",r.a.createElement("a",{href:"http://speedscore.live",target:"_blank"},"SpeedScore's web site"),". For more information on speedgolf, visit ",r.a.createElement("a",{href:"http://playspeedgolf.com",target:"_blank"},"playspeedgolf.com")," and ",r.a.createElement("a",{href:"http://usaspeedgolf.com",target:"_blank"},"Speedgolf USA"),"."))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-primary btn-color-theme",onClick:a.toggleAbout},"OK")))))},a.state={mode:p.LOGIN,menuOpen:!1,user:"",showAbout:!1,authenticated:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("click",this.handleClick),this.state.authenticated||fetch("/auth/test").then((function(e){return e.json()})).then((function(t){if(t.isAuthenticated){var a=JSON.parse(localStorage.getItem("speedgolfUserData"));null==a&&(a={}),a.hasOwnProperty(t.user.id)||(a[t.user.id]={accountInfo:{provider:t.user.provider,password:"",securityQuestion:"",securityAnswer:""},rounds:{},roundCount:0},localStorage.setItem("speedgolfUserData",JSON.stringify(a))),e.setState({authenticated:!0,user:t.user,mode:p.FEED})}}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=G[this.state.mode];return r.a.createElement("div",{onClick:this.handleClick},r.a.createElement(h,{title:z[this.state.mode],mode:this.state.mode,changeMode:this.handleChangeMode,menuOpen:this.state.menuOpen,toggleMenuOpen:this.toggleMenuOpen}),r.a.createElement(f,{mode:this.state.mode,menuOpen:this.state.menuOpen,changeMode:this.handleChangeMode,user:this.state.user,showAbout:this.toggleAbout}),r.a.createElement(E,{mode:this.state.mode,changeMode:this.handleChangeMode,menuOpen:this.state.menuOpen}),r.a.createElement(e,{menuOpen:this.state.menuOpen,mode:this.state.mode,changeMode:this.handleChangeMode,setAuthenticated:this.setAuthenticated,user:this.state.user,setUser:this.setUser}),this.state.showAbout?this.renderAbout():null)}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[12,1,2]]]);
//# sourceMappingURL=main.32c151dd.chunk.js.map